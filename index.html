<!DOCTYPE html>
<html>
  <head>
    <title>Overview of Data Analysis With R</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="slide.css"/>
  </head>
  <body>
    <textarea id="source">

layout:true

<div class="header" style="display:block; text-align: left; color:gray; font-size:1em; position: fixed; top: 0px; left: 0px; height: 30px;vertical-align:middle;margin:7px 0 0 0;width:100%;background: #fcfcfc;
background: -moz-linear-gradient(top, #fcfcfc 0%, #d1d1d1 100%); 
background: -webkit-linear-gradient(top, #fcfcfc 0%,#d1d1d1 100%);
background: linear-gradient(to bottom, #fcfcfc 0%,#d1d1d1 100%);
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#fcfcfc', endColorstr='#d1d1d1',GradientType=0 );">
  <img src="images/datapolitan_transparent_small.png" style="position: fixed;top: 2px; left: 5px; width: 14%;">
  <p style="display:block;text-align:left;color:gray;font-size:1em; position: fixed; top: 0px; left: 155px; height: 30px;vertical-align:middle;margin:7px 0 0 0; ">Overview of Data Analysis with R</p>
</div>
<div class="footer" style="display:block;color:gray;position:fixed;bottom: 0px;left:0px;height:30px;vertical-align:middle;margin:0 0 0 0;width:100%;background: #fcfcfc;background: -moz-linear-gradient(top, #fcfcfc 0%, #d1d1d1 100%);background: -webkit-linear-gradient(top, #fcfcfc 0%,#d1d1d1 100%);background: linear-gradient(to bottom, #fcfcfc 0%,#d1d1d1 100%);sfilter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#fcfcfc', endColorstr='#d1d1d1',GradientType=0 );">
  <p class="footer">
    <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Overview ofData Analysis with R</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://www.tinypanther.com" property="cc:attributionName" rel="cc:attributionURL">Julia Marden</a> and <a xmlns:cc="http://creativecommons.org/ns#" href="http://www.datapolitan.com" property="cc:attributionName" rel="cc:attributionURL">Richard Dunks</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative-Commons-License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a>
  </p>
</div>

--

class:center, middle

# Overview of Data Analysis With R

- - -

## Instructors: Elizabeth DiLuzio and Jesse Carlos
## TA: Richard Dunks
### Follow along at: https://bit.ly/overview-r
#### See the code at: https://bit.ly/overview-r-code
![img-center-50](images/datapolitan.png)


---
class:center,middle

<!-- start of A block -->
# Welcome
???
+ Facilitators and TA introduce themselves, establishing mastery but also creating openings for vulnerability and awareness

---

# A Few Ground Rules
???
+ Facilitators establish the intention we have for the culture of the classroom

--

+ Step up, step back
--

+ Keep yourself muted during instruction
--

+ Be curious and ask questions (in the chat box)
--

+ Assume noble regard and positive intent
--

+ Respect multiple perspectives 
--

+ Be present (phone, email, social media, etc.)

---

# [Zoom Drill](https://vimeo.com/407215417)
???
+ Facilitators will cover the following skills: muting themselves, stopping their video, typing in chat box, raising their hand, sharing their screen

--

+ Mute and Unmute your microphone
--

+ Start and Stop your video
--

+ Post a message in the Chat window with your name and computer operating system (Windows or MacOS)
--

+ Click the Participants window and Raise your hand 
--

+ Share and Unshare your screen


---

# What to Expect Today

+ Introduction to R syntax and commands
--

+ Introduction to [RStudio](https://www.rstudio.com/) and [RStudio Cloud](https://rstudio.cloud/)
--

+ Load data
--

+ Explore data
--

+ Wrangle data
--

+ Visualize data

???
+ Students will review progress and give feedback on key takeaways

---

# Housekeeping
???
+ Facilitator sets expectations with the students
+ Establishes the "contract" for the class

--

+ We will take a 10 minute break halfway through the workshop
--

+ If you need to take a break before then, turn off your video camera for privacy
--

+ Questions in the chat box
--

+ Raise your hand if you need help

---

# What is Analysis?
--

>“Analysis is simply the pursuit of understanding, usually through detailed inspection or comparison”

## - [Carter Hewgley](https://www.linkedin.com/in/carterhewgley), Senior Advisor for Family & Homeless Services, Department of Human Services, District of Columbia

???
+ Orient students to key concept in analysis
+ Use R to uncover meaning in data

---
# The Analytical Process

![img-center-80](images/valuechain.png)

???
+ Establish frame for the analytics process to be followed in class
+ Familiarize students with terminology (esp "data wrangling/data cleaning")
+ Demystify the process
+ Empower students to do analysis

---

# Exercise: Old Faithful


![img-center-70](images/old_faithful.jpeg)
.caption[Image Credit: Astroval1, [CC BY-SA 4.0](http://creativecommons.org/licenses/by-sa/4.0) via [Wikimedia Commmons](https://commons.wikimedia.org/wiki/File%3ABig_Dipper_Ursa_Major_over_Old_Faithful_geyser_Yellowstone_National_Park_Wyoming_Astrophotography.jpg)]


???
+ Facilitator provides context for the exercise by describing Old Faithful
+ Students will download script with prepared code snippets to run
+ Students will learn the steps of running summary statistics in R

---

# Identify the Question
--

+ What's the minimum amount of time I should plan to spend at Old Faithful?
--

+ Is there a relationship between the amount of time I wait and the length of time it erupts?
--

???
+ Students will understand the problem we're seeking to solve in class
+ Students will learn by example the value of problem setting.
+ This will be done by writing out explicit problem statement for 311 Noise, possibly vision 0 db after we have exercise.

---

# [Introduction to RStudio Cloud](https://rstudio.cloud/)

![img-center-80](images/rstudio_annotated.png)

+ Join us in the [Datapolitan Training space](https://login.rstudio.cloud/invite?space_name=datapolitan-training&code=TkFklBhy3sh40gFGZ%2B0yr0SkakBdVbMWF0WgHJXY&setup=1)

???
+ Introduce students to Console, Environment, and Help
+ Students will be familiar with the key features of the console for the exercises to come
+ This will be done by live demo and verbal discussion
+ Ctrl+L clear console

---

# Exercise: Old Faithful

![img-center-85](images/faithfulvis.png)

#### [Click to download the `Faithful_24Jun.Rmd` code for this exercise (already loaded in RStudio)](code/Faithful_24Jun.Rmd)

???
+ Students will open and load a simple dataset.
+ They will inspect the data in the viewer and confirm it loaded properly.
+ This will be done by live demo of code
+ Students will be writing code themselves
+ Introduce basic commands and tab completion
+ Describe comments and their purpose
+ Emphasize cooperation between participants

---

# What is Syntax?
--

![img-center-80](images/syntax.png)
.caption[Image Credit: AnonMoos, Public Domain via [Wikipedia](https://commons.wikimedia.org/wiki/File%3ABasic_constituent_structure_analysis_English_sentence.svg)]

???
+ Students will get vocabulary for accomplishing tasks in code
+ This will be done with an overview discussion

---

# R Syntax

```R
# basic command

command(dataset)
View(faithful)

```
???
+ Facilitator guides students through basic syntax in R for simple tasks
+ Instructor reinforces syntax idea and relation to regular sentence structure to convey meaning where appropriate
--

```R
# select a column

command(dataset$column)
mean(faithful$waiting)

```
--

```R
# get help

?help
?faithful

```

---

# Breakout Rooms

???
+ prep for how breakout rooms work
--

+ We will be working in breakout rooms throughout this workshop

--

![img-center-60](images/breakout_rooms.png)

---

# Your Turn 1
--

+ Introduce Yourself to Your Neighbor: who you are, where you work, and any experience you have with coding)
--

+ Look through the code we just wrote
--

+ Make a change to one thing on the chart
--

+ If necessary, check out the help documentation
--

+ Be ready to introduce each other and describe what you did

---

![img-right-40](images/r_logo.png)
# What is R?
--

+ Statistical programming language
--

+ [Open-source](https://opensource.com/resources/what-open-source)
--

+ Made for and by people who work with data
--

+ Used for data analysis
--

+ For the history of R, [see this video](https://www.coursera.org/lecture/r-programming/overview-and-history-of-r-pAbaE)

???

+ Familiarize students with basics of R and set context
+ "Created for and by the people" - Julia Marden

---

# R vs. Excel
???
+ Facilitator compares R directly to Excel for context (assuming most participants are well-acquainted with Excel)
--

+ R is a _programming language_ while Excel is an _application_ 
--

+ R can work with much larger datasets than Excel
--

+ R can perform more complex operations than Excel
--

+ R commands can be easily saved, re-run, and automated
--

+ R doesn't have the icons, animations, and wizards of Excel

---

class:center,middle
# Wrap-Up

---

class:center, middle
# 10 Min Break
![img-center-60](images/automation.png)
Source: https://xkcd.com/1319/

---
# R Markdown vs. Base R
--

+ We have been working in [R Markdown](https://rmarkdown.rstudio.com/)
--

+ R Markdown is a tool that allows you to write reports or presentations that combine written text with analytical code
--

+ It allows you to see your code and the output chunked together
--

+ Chunks are created with a special code

```R
```{r}
[your code goes here]
```
```


---

# 5 Data Analytics Tasks
--

1. Sorting
--

2. Filtering
--

3. Transforming
--

4. Aggregating (PivotTable)
--

5. Visualizing

---

# 1. Sorting
--

+ Reorganize rows in a dataset based on the values in a column
--

+ Can sort on multiple columns

---

# Sorting in R
--

+ Use [`order()`](https://www.r-bloggers.com/r-sorting-a-data-frame-by-the-contents-of-a-column/)
--

+ Specify the column you want to sort by<br>(in our case `eruptions` or `waiting`)
--

```r
df[order(df$column_to_sort_by),]
```
--

## Your Turn 2
+ Sort the Old Faithful data to find the shortest waiting time
+ Sort the Old Faithful data to find the longest waiting time

???
+ Why the comma?
+ The syntax is `df[row specifier, column specifier]`.
+ If a specifier is absent, R returns all.
---

# 2. Filtering
--

+ Only show rows that contain some value
--

+ Can filter by multiple values
--

+ Can filter by values in multiple columns

---

# Filtering in R
--

+ Provide some logical test (`<`, `>`, `==`, etc.)
--

+ The format is
--

```r
df[df$column_to_filter_by <logical test>,]
```

--
## Your Turn 3
+ Filter the Old Faithful data for all eruptions longer than 4 minutes

---

# 3. Transforming Data
--

+ Sometimes available categories don't make sense
--

+ Values may not be in the format you need (or have mistakes)
--

+ You always want to have a clean copy of the data to go back to
--

+ Best to keep track of what you've done
--

+ Let's take a look at Transformation in R

---

# 4. Aggregating Data 
--

+ Trends only become clear in aggregate
--

+ Often where you discover the "so what"
--

+ Aggregating data meaningfully can be tricky
--

+ Let's take a look at an example of Aggregation in R

---

# 5. Visualizing Data
--

+ Quickly communicate information
--

+ Tell a clearer story
--

+ A picture is worth a thousands words
--

+ We've already seen this with the Old Faithful data

```r
hist(faithful$waiting)
hist(faithful$eruptions)

plot(faithful, main="Eruptions of Old Faithful", xlab="Eruption Time in Minutes", ylab="Waiting Time to Next Eruption in Min")
abline(lm(faithful$waiting~faithful$eruptions), col="red")
```

---

# 5 Data Analytics Tasks

1. Sorting
2. Filtering
3. Transforming
4. Aggregating
5. Visualizing

---

class:center,middle
# Wrap Up

---

# Key Skills
--

+ Introduction to R syntax and commands
--

+ Introduction to [RStudio](https://www.rstudio.com/) and [RStudio Cloud](https://rstudio.cloud/)
--

+ Load data
--

+ Explore data
--

+ Wrangle data
--

+ Visualize data
--

+ Anything else?

???
+ Students will review progress and give feedback on key takeaways

---

# Taking This Out of the Classroom
???
+ Facilitators reinforce key learning points with participants for integrating into their workflow
--

+ R is a powerful tool for cleaning, analyzing, and visualizing data
--

+ Integrating it into your workflow takes practice and a commitment to not giving up (Google is your friend)
--

+ [RStudio](https://www.rstudio.com/) makes it easy to get started
--

+ You should be able to [download R and RStudio on your work computer](https://ayeimanol-r.net/2014/01/16/getting-started-installation-of-rstudio-and-some-packages-using-ggplot-to-make-a-simple-plot/) (Use the zip/tarball option)

---
name:resources

# Key Links
--

+ [Download R](https://cloud.r-project.org/)
--

+ [Download RStudio](https://www.rstudio.com/products/rstudio/download/)
--

+ [Download exercise files from this class](http://bit.ly/data-analysis-r-code) 

---

# Learning and Practicing More with R
--

+ [Hands-On Programming with R](https://rstudio-education.github.io/hopr/) - Free online book with code examples meant for non-programmers
--

+ [R for Data Science](https://r4ds.had.co.nz/)- Free online book covering basic topics in data science with R
--

+ [R Cookbook](http://www.cookbook-r.com) - Free online walkthrough of the basics
--

+ [R Programming Coursera Course](https://www.coursera.org/learn/r-programming) - Free course in R that runs regularly
--

+ [Swirl](http://swirlstats.com) - Interactive learning inside of R `install.packages(“swirl”)`

---

# Other Useful Resources
--

+ [NYC Open Statistical Programming Meetup](https://www.meetup.com/nyhackr) - Monthly talks about R and sponsor of the [NYC R Conference](http://www.rstats.nyc/)
--

+ [Tidyverse](https://www.tidyverse.org) - R packages for Data Science
--

+ [Stat Methods](http://statmethods.net) - Great documentation for doing data analysis in R
--

+ [UCLA Stats](https://stats.idre.ucla.edu/other/dae/) - Many examples of statistical analysis with comparisons between R, Stata, SPSS, etc.
--

+ [Stack Overflow](https://stackoverflow.com/questions) - One of the best Q&A sites for technology
--

+ [Class handout](workbook.pdf)
--

+ [Datapolitan training classes](https://www.datapolitan.com/) - The online home of our training materials

???
+ Students will have key resources for moving forward in their learning

---

## .center[Contact Information]

<!-- ## Julia Marden
+ Email: julia[at]tinypanther[dot]com
+ Website: http://tinypanther.com
+ Twitter: [@juliaem](https://twitter.com/juliaem)
 -->


<!-- ## Alfred Lee
+ LinkedIn: https://www.linkedin.com/in/leealfred/
 -->

<!-- ### Reshama Shaikh
<ul>
    <li style="font-size:34px">
        LinkedIn, Github, Twitter: reshamas
    </li>
    <li style="font-size:34px">
      Blog: <a href="https://reshamas.github.io/">https://reshamas.github.io/</a>
    </li>
</ul>
 -->

### Elizabeth DiLuzio
<ul>
  <li style="font-size:34px">
        Email: elizabeth[at]evallearn[dot]com
    </li>
  <li style="font-size:34px">
        Twitter: <a href="https://twitter.com/lizdiluzio">@lizdiluzio</a>
    </li>
</ul>

### Jesse Carlos
<ul>
    <li style="font-size:34px">
        Email: Jcarlos[at]college[dot]harvard[dot]edu
    </li>
  <li style="font-size:34px">
        [LinkedIn](www.linkedin.com/in/jesus-carlos-667ba7132)
    </li>
</ul>


<!-- ### Richard Dunks
<ul>
    <li style="font-size:34px">
        Email: training[at]datapolitan[dot]com
    </li>
    <li style="font-size:34px">
        Website: <a href="http://www.datapolitan.com">http://www.datapolitan.com</a>
    </li>
    <li style="font-size:34px">
        Twitter: <a href="https://twitter.com/datapolitan">@datapolitan</a>
    </li> -->
</ul>



<!-- ## Richard Dunks
+ Email: training[at]datapolitan[dot]com
 -->


---

class:center, middle
# THANK YOU!

---

# Exploring Data

```R
View()
# show dataset as spreadsheet in Viewer
```
```R
str()
# identify data type and structure
```
```R
nrow()
# identify the number of rows
```
```R
ncol()
# identify the number of columns
```
```R
colnames()
# list the name of every column
```

---

# Manipulate Data

```R
sort()
# sort the values in a column
```
```R
data.frame()
# structure data into a matrix
```
```R
subset()
# extract data from a dataframe
```

---

# Calculating Summary statistics

```R
min()
# identify minimum value
```
```R
max()
# identify maximum value
```
```R
median()
# calculate median value
```
```R
mean()
# calculate mean value
```

---

# Visualizing Data

```R
hist()
# make a chart with numeric data
```
```R
plot()
# plot two numeric variables along an x-y axis
```
```R
abline()
# add a trendline to a plot
```
```R
table()
# make a table with factor data
```
```R
prop.table()
# make a table with percentages
```
```R
barplot()
# make a chart with factor data
```

---

# dplyr

```R
install.packages("dplyr")
require(dplyr)
```
```R
tbl_df()
# create a dataframe
```
```R
filter()
select()
# create a subset; filter for rows, select for columns
```
```R
mutate()
# add a column
```
```R
arrange()
# sort rows by category
```

---

# lubridate

```R
install.packages("lubridate")
require(lubridate)
```
```R
mdy_hms()
# format timestamp into month, day, year, hour, min and second
# other commands: mdy_hm, mdy, dmy, etc.
```
```R
hour()
# extract hour from timestamp
# other commands: day, minute, second, etc.
```
---

# ggplot2

```R
ggplot()
# plot a dataframe
```
```R
geom_bar()
# make a proportional bar chart
# alternative is geom_col()
# used for factor data 
```
```R
ggtitle()
# add a title to a plot
```

    </textarea>
    <script src="https://datapolitan-training-files.s3.amazonaws.com/remark-latest.min.js">
    </script>
    <script>
      var slideshow = remark.create(
        // {
        //   slideNumberFormat: ""}
        );
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55673554-2', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
